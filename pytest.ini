[pytest]
# pytest 配置文件

# 测试用例搜索路径
testpaths = testcases

# 测试文件命名规则
python_files = test_*.py

# 测试类命名规则
python_classes = Test*

# 测试函数命名规则
python_functions = test_*

# 命令行参数
addopts = -vs
          --tb=short
          --strict-markers
          --alluredir=./reports/allure-results
          --clean-alluredir
          --html=./reports/report.html
          --self-contained-html

# 标记定义
markers =
    smoke: 冒烟测试用例
    regression: 回归测试用例
    critical: 严重级别用例
    high: 高优先级用例
    medium: 中优先级用例
    low: 低优先级用例
    api: 接口测试用例
    login: 登录相关用例
    user: 用户模块用例
    order: 订单模块用例

# 日志配置
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

log_file = logs/pytest.log
log_file_level = DEBUG
log_file_format = %(asctime)s [%(levelname)s] [%(filename)s:%(lineno)d] %(message)s
log_file_date_format = %Y-%m-%d %H:%M:%S

# 禁用warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
