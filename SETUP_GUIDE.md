# TestForge æ•´åˆè®¾ç½®æŒ‡å—

## ğŸ¯ æ¶æ„è¯´æ˜

TestForgeç°åœ¨é‡‡ç”¨**å‰åç«¯åˆ†ç¦»æ¶æ„**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         HTTP API         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  React Frontend â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  Python Backend  â”‚
â”‚  (Port 5173)    â”‚                          â”‚  (Port 8000)     â”‚
â”‚                 â”‚                          â”‚                  â”‚
â”‚  - UIäº¤äº’       â”‚                          â”‚  - HTTPå¤„ç†      â”‚
â”‚  - çŠ¶æ€ç®¡ç†     â”‚                          â”‚  - æ–­è¨€å¼•æ“      â”‚
â”‚  - å“åº”å±•ç¤º     â”‚                          â”‚  - ç”¨ä¾‹å­˜å‚¨      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿ï¼š**
- âœ… ä¸“ä¸šçš„React UIï¼ˆshadcn-uiç»„ä»¶åº“ï¼‰
- âœ… å¼ºå¤§çš„Pythonåç«¯ï¼ˆFastAPI + ç°æœ‰ä¸šåŠ¡é€»è¾‘ï¼‰
- âœ… æ¸…æ™°çš„èŒè´£åˆ†ç¦»
- âœ… æ˜“äºæ‰©å±•å’Œç»´æŠ¤

## ğŸ“¦ å®‰è£…ä¾èµ–

### 1. Pythonåç«¯ä¾èµ–

```bash
cd testforge
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

éœ€è¦å®‰è£…çš„æ ¸å¿ƒä¾èµ–ï¼š
- fastapi
- uvicorn
- pydantic
- requests
- pyyaml

### 2. Reactå‰ç«¯ä¾èµ–

```bash
cd forge-apis
npm install
```

## ğŸš€ å¯åŠ¨æœåŠ¡

### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

**Windowsç”¨æˆ·ï¼š**

1. å¯åŠ¨Pythonåç«¯ï¼š
   - åŒå‡» `testforge/run_api.bat`
   - æˆ–åœ¨å‘½ä»¤è¡Œè¿è¡Œï¼š`cd testforge && run_api.bat`

2. å¯åŠ¨Reactå‰ç«¯ï¼š
   - åŒå‡» `forge-apis/run_frontend.bat`
   - æˆ–åœ¨å‘½ä»¤è¡Œè¿è¡Œï¼š`cd forge-apis && run_frontend.bat`

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

**ç»ˆç«¯1 - Pythonåç«¯ï¼š**
```bash
cd testforge
python -m uvicorn src.api.main:app --reload --host 0.0.0.0 --port 8000
```

**ç»ˆç«¯2 - Reactå‰ç«¯ï¼š**
```bash
cd forge-apis
npm run dev
```

## ğŸ“ è®¿é—®åœ°å€

å¯åŠ¨æˆåŠŸåï¼š
- **å‰ç«¯ç•Œé¢**: http://localhost:5173
- **åç«¯API**: http://localhost:8000
- **APIæ–‡æ¡£**: http://localhost:8000/docs (FastAPIè‡ªåŠ¨ç”Ÿæˆ)

## ğŸ§ª æµ‹è¯•åŠŸèƒ½

1. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:5173
2. åœ¨ç•Œé¢ä¸­å¯ä»¥çœ‹åˆ°ç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹
3. ç‚¹å‡»ç”¨ä¾‹ï¼Œä¿®æ”¹é…ç½®ï¼Œå‘é€è¯·æ±‚
4. æŸ¥çœ‹å“åº”å’Œæ–­è¨€ç»“æœ

## ğŸ“ é¡¹ç›®ç»“æ„

```
tool_project/
â”œâ”€â”€ testforge/                 # Pythonåç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/              # FastAPIæ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ main.py       # APIè·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ protocols/        # åè®®å¤„ç†å±‚
â”‚   â”‚   â”œâ”€â”€ core/             # ä¸šåŠ¡é€»è¾‘ï¼ˆæ–­è¨€å¼•æ“ï¼‰
â”‚   â”‚   â”œâ”€â”€ storage/          # å­˜å‚¨å±‚ï¼ˆYAMLï¼‰
â”‚   â”‚   â””â”€â”€ ui/               # Streamlit UIï¼ˆå·²å¼ƒç”¨ï¼‰
â”‚   â”œâ”€â”€ testcases/            # æµ‹è¯•ç”¨ä¾‹å­˜å‚¨
â”‚   â”œâ”€â”€ requirements.txt      # Pythonä¾èµ–
â”‚   â””â”€â”€ run_api.bat          # åç«¯å¯åŠ¨è„šæœ¬
â”‚
â””â”€â”€ forge-apis/               # Reactå‰ç«¯
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ components/       # Reactç»„ä»¶
    â”‚   â”‚   â”œâ”€â”€ TestCaseList.tsx
    â”‚   â”‚   â”œâ”€â”€ RequestPanel.tsx
    â”‚   â”‚   â””â”€â”€ ResponsePanel.tsx
    â”‚   â”œâ”€â”€ pages/
    â”‚   â”‚   â””â”€â”€ Index.tsx     # ä¸»é¡µé¢
    â”‚   â”œâ”€â”€ lib/
    â”‚   â”‚   â””â”€â”€ api.ts        # APIå®¢æˆ·ç«¯
    â”‚   â””â”€â”€ App.tsx
    â”œâ”€â”€ package.json          # Nodeä¾èµ–
    â”œâ”€â”€ .env                  # ç¯å¢ƒé…ç½®
    â””â”€â”€ run_frontend.bat     # å‰ç«¯å¯åŠ¨è„šæœ¬
```

## ğŸ”Œ APIæ¥å£è¯´æ˜

### å‘é€è¯·æ±‚
```
POST /api/send-request
Body: {
  "method": "GET",
  "url": "https://api.example.com",
  "headers": {},
  "params": {},
  "body": null,
  "assertions": ["status == 200"]
}
```

### æµ‹è¯•ç”¨ä¾‹ç®¡ç†
- `GET /api/testcases` - è·å–æ‰€æœ‰ç”¨ä¾‹
- `GET /api/testcases/{name}` - åŠ è½½æŒ‡å®šç”¨ä¾‹
- `POST /api/testcases` - ä¿å­˜ç”¨ä¾‹
- `DELETE /api/testcases/{name}` - åˆ é™¤ç”¨ä¾‹

## â“ å¸¸è§é—®é¢˜

### Q: ç«¯å£è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ
A: ä¿®æ”¹å¯åŠ¨å‘½ä»¤ä¸­çš„ç«¯å£å·ï¼š
- åç«¯ï¼š`--port 8001`
- å‰ç«¯ï¼šä¿®æ”¹ `vite.config.ts` ä¸­çš„ `server.port`

### Q: APIè°ƒç”¨å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥ï¼š
1. åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼ˆè®¿é—® http://localhost:8000ï¼‰
2. `.env` æ–‡ä»¶ä¸­çš„ `VITE_API_URL` æ˜¯å¦æ­£ç¡®
3. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰CORSé”™è¯¯

### Q: å‰ç«¯æ˜¾ç¤ºä¸æ­£å¸¸ï¼Ÿ
A: æ¸…é™¤ç¼“å­˜é‡æ–°å®‰è£…ï¼š
```bash
cd forge-apis
rm -rf node_modules package-lock.json
npm install
```

## ğŸ“š ä¸‹ä¸€æ­¥

- [ ] æ·»åŠ æ›´å¤šæµ‹è¯•ç”¨ä¾‹
- [ ] å°è¯•ä¸åŒçš„æ–­è¨€è§„åˆ™
- [ ] ä¿å­˜å¸¸ç”¨çš„APIé…ç½®
- [ ] æ¢ç´¢APIæ–‡æ¡£ (http://localhost:8000/docs)

## ğŸ‰ å¼€å§‹ä½¿ç”¨

ç°åœ¨ä½ å¯ä»¥å¼€å§‹ä½¿ç”¨TestForgeè¿›è¡ŒAPIæµ‹è¯•äº†ï¼äº«å—è¿™ä¸ªä¸“ä¸šçš„æµ‹è¯•å·¥å…·å§ï¼
